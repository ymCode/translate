测试要素
测试是通过运行你写的app代码或者库代码，与预期比较得出通过还是失败的结果。一个测试应该在运行一些操作之后检查对象成员变量的情况，核实在边界情况下代码是否抛出异常，等等。至于性能测试，参考标准应当是你期望的一系列操作执行完成的最大时间。
定义测试范围
所有的软件都是有组建构建的；这是说，小的组建被组合在一起，形成更大的、等级更高的组件，它具有更强的功能，足够满足工程的目标和要求。好的测试体验是能够从各个等级覆盖项目的功能。XCTest允许你从任何级别给组件编写测试。

如何建立测试组建完全取决于你，可以是一个类的方法或者能够完成一个基本目标的一系列方法。比如，它可以是一个算法操作，在快速开始章节里，计算机app用的一个例子就是如此。它可能是一些不同的方法来处理UITableview和对应的数据内容。每一个方法都意味着是app功能的一部分并且有一个测试去检测。测试行为应该是准确无误的，要么通过要么失败。

你能将app的行为分解成越多的组建，你的测试就越有效。随着你工程的增长和改变，你的代码越能在各方面符合标准。有很多组建的大型项目，你将需要大量的测试保证测试完整。在设计上，测试的运行速度尽可能快些，但是有些测试太大而运行起来就慢。小的，快速运行的测试经常被运行和使用，当有错误时用来帮助诊断，使问题容易被解决。

测试设计成模块是测试驱动开发的基础，测试驱动开发这是一种写代码的风格，写代码之前先写测试逻辑。这种开发方法让你在实现代码之前就编写好必需和边界情况的case。写测试后，你再以通过测试为目标开发算法。你的代码通过测试之后，你就有了一个基础，在这个基础上你可以自信的提升你的代码，任何期望行为（将会导致bug）的改变都会在下一步的测试里被标记。

即使你没有使用测试驱动开发的模式，当你修改代码来增加特性和功能时，测试也能帮你减少bug的引入。你在工作的app中包含测试来保证将来的改动不会影响到已存在的行为。当你解决bug，有通过添加测试来确保bug被解决了。测试应该能够运行你的代码，同时预测成功和失败，以及覆盖所有边界的情况

笔记：添加测试到一些没有测试设计的项目中时，要记住应该重新设计或者部分重构让测试它们更简单些

组件能够在你的app里任何不同的部分相互影响。因为有些测试要花很长时间去运行，你可能想运行它们的一部分或者仅一个服务。你将在下一个章节遇到这种情况，你可以阻止你的测试并以不同的方式运行他们来满足不同的需要。

性能测试
单元测试在本质上有功能测试和性能测试两种。XCTest提供Api来测量基于时间的性能，允许你跟踪性能提升和回归，类似也有方法用于功能测试。

为了给性能测试得出一个结果无论成败，基线作为计算依据是必要的。测试方法的运行时间与标准时间的偏差，取十次做平均值就是性能的基线。从运行开始到运行结束，运行时间低于或者与时间基线相差太多，将报告错误结果。

笔记：你首次运行性能测试时，XCTest总是上报错误，因为它还不知道基线值。一旦你接受一个测量值作为基值，XCTest会依据基值来报告成功或失败并且会给你提供一个方法来查看详细结果。

用户界面测试

功能和性能测试讨论至今一般涉及到单元测试,这里的单元是指由你决定的关于粒度和等级的功能模块。单元测试主要关心能形成好的组件，它的行为和与其他组件的交互能如预期。从设计角度出发，单元测试从内部进入开发项目，审查所有能够实现你目的的组件。

用户通过用户界面与你的内部代码交互。用户界面交互一般是粗纹理，更高等级的行为，采取表面行为并且整合好几个组件的操作来调用app的功能。单元测试想实现像用户通过用户界面那种体验，而没有设计从app内容外部操作UI的设备，是非常困难的。被这些特殊设备写下的测试被叫做“UI tests”。

UI 测试从外部表面来测试app，就用用户那样。它们允许你写的测试可以向系统和自定义的类发送模拟事件，捕获这些类的响应，然后测试这些响应来判断正确性或者性能表现，就像你对内部继承的单元测试做的那样。

应用和库测试

Xcode提供两种类型的单元测试上下文：应用测试和库测试。
应用测试：应用测试检查你的app里代码行为的正确性，比如，计算器应用算法操作的例子。
库测试：库测试检查动态库和框架里代码行为的正确性,独立于使用它们的app的运行时。使用库测试，你创建单元测试来使用库的组件。
当你的代码随着时间的发展，合适地使用这些测试上下文测试你的应用帮你保持预期的行为。

XCTest —— xCode的测试框架

XCTest是提供给你使用的测试框架，从Xcode 5开始。

关于版本和兼容性：

xcode 5，XCTest 能兼容运行在 OSX v10.8和OSX v10.9，以及iOS7和之后
Xcode 6，XCTest 能兼容运行在 OSX v10.9和OSX v10.10，以及iOS6和之后
Xcode 7，XVTest 能兼容运行在 OSX v10.10和OS X10.11，以及iOS6和之后

UI测试被支持运行在OSX v10.11和iOS 9，模拟器和真机同时支持。

更详细的版本适配信息，查看 Xcode 发布记录。

Xcode 引用 XCTest.framework到你的工程里。这个框架提供APIs可以让你设计测试并且运行到你的代码上。关于XCTest框架的详细信息，查看XCTest框架指南。

笔记：关于迁徙OCUnit到XCTest的信息，见附尾 B：OCUnit 到 XCTest 的转换

从哪里开始测试

当你开始创建测试时，在脑中紧记如下观点：

在创建单元测试时，集中于测试你代码里最基本的东西，与控制器交互的模型类和方法。

一个你app的高级别的块表，可能包含模型、视图、控制器类，这对于使用Cocoa和CocoaTouch工作的人，是一种非常熟悉的设计模式。当你写测试来覆盖你所有的模型类时，你必然能知道你app的基础被测试的很好，之后你才能以你自己的方式给控制器写测试，而它会接触更复杂的部分，比如通过网络链接一个可与数据库链接的网络服务。

作为一个替代起点，如果你真在发布一个框架或者库，你可能想从api接口开始。从这些接口，你可以访问到类的内部。

当创建UI测试时，开始时要考虑最普通的工作流程。思考用户在开始使用app时会怎么做，在这个过程中什么UI会被立即运行。使用UI记录特性，捕捉用户行为序列，记录到UI测试方法中，是一个好的方法。可以将其扩展实现成能够测试正确性或者性能的测试。

这类UI测试倾向于从相对粗糙的观点开始，并且可能跨越多个子系统。可能在一开始返回一堆很难分析的信息。当你使用UI测试组件时，你可以重新定义测试粒度，集中UI测试来更清楚的反射特殊子系统行为。